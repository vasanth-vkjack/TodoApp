{"ast":null,"code":"import{createAsyncThunk,createSlice}from\"@reduxjs/toolkit\";import axios from\"axios\";export const fetchTodos=createAsyncThunk(\"/getTodos\",async(_,_ref)=>{let{rejectWithValue}=_ref;try{const res=await axios.get(\"https://todo-app-qq79.onrender.com/todos\",{headers:{\"Content-Type\":\"application/json\"},withCredentials:true});return res.data;}catch(error){console.log(error);rejectWithValue(error.response);}});const todoSlice=createSlice({name:\"todos\",initialState:{todos:[],loading:false,error:null},reducers:{addTodo:(state,action)=>{state.todos=[...state.todos,action.payload];},deleteTodo:(state,action)=>{state.todos=state.todos.filter((todos,_id)=>todos._id!==action.payload);},updateTodos:(state,action)=>{state.todos=state.todos.map((todo,_id)=>todo._id===action.payload._id?action.payload:todo);}},extraReducers:builder=>{builder.addCase(fetchTodos.pending,(state,action)=>{state.loading=true;state.error=null;}).addCase(fetchTodos.fulfilled,(state,action)=>{state.loading=false;state.todos=action.payload;}).addCase(fetchTodos.rejected,(state,action)=>{state.loading=false;state.error=action.error.message;});}});export const{addTodo,deleteTodo,updateTodos}=todoSlice.actions;export default todoSlice.reducer;","map":{"version":3,"names":["createAsyncThunk","createSlice","axios","fetchTodos","_","_ref","rejectWithValue","res","get","headers","withCredentials","data","error","console","log","response","todoSlice","name","initialState","todos","loading","reducers","addTodo","state","action","payload","deleteTodo","filter","_id","updateTodos","map","todo","extraReducers","builder","addCase","pending","fulfilled","rejected","message","actions","reducer"],"sources":["C:/Users/VASANTH/OneDrive/Desktop/wiz/To-Do-App/frontend/src/slices/userSlice.js"],"sourcesContent":["import { createAsyncThunk, createSlice } from \"@reduxjs/toolkit\";\r\nimport axios from \"axios\";\r\n\r\nexport const fetchTodos = createAsyncThunk(\r\n  \"/getTodos\",\r\n  async (_, { rejectWithValue }) => {\r\n    try {\r\n      const res = await axios.get(\"https://todo-app-qq79.onrender.com/todos\", {\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n        withCredentials: true,\r\n      });\r\n      return res.data;\r\n    } catch (error) {\r\n      console.log(error);\r\n      rejectWithValue(error.response);\r\n    }\r\n  }\r\n);\r\n\r\nconst todoSlice = createSlice({\r\n  name: \"todos\",\r\n  initialState: {\r\n    todos: [],\r\n    loading: false,\r\n    error: null,\r\n  },\r\n\r\n  reducers: {\r\n    addTodo: (state, action) => {\r\n      state.todos = [...state.todos, action.payload];\r\n    },\r\n    deleteTodo: (state, action) => {\r\n      state.todos = state.todos.filter(\r\n        (todos, _id) => todos._id !== action.payload\r\n      );\r\n    },\r\n    updateTodos: (state, action) => {\r\n      state.todos = state.todos.map((todo, _id) =>\r\n        todo._id === action.payload._id ? action.payload : todo\r\n      );\r\n    },\r\n  },\r\n  extraReducers: (builder) => {\r\n    builder\r\n      .addCase(fetchTodos.pending, (state, action) => {\r\n        state.loading = true;\r\n        state.error = null;\r\n      })\r\n      .addCase(fetchTodos.fulfilled, (state, action) => {\r\n        state.loading = false;\r\n        state.todos = action.payload;\r\n      })\r\n      .addCase(fetchTodos.rejected, (state, action) => {\r\n        state.loading = false;\r\n        state.error = action.error.message;\r\n      });\r\n  },\r\n});\r\n\r\nexport const { addTodo, deleteTodo, updateTodos } = todoSlice.actions;\r\n\r\nexport default todoSlice.reducer;\r\n"],"mappings":"AAAA,OAASA,gBAAgB,CAAEC,WAAW,KAAQ,kBAAkB,CAChE,MAAO,CAAAC,KAAK,KAAM,OAAO,CAEzB,MAAO,MAAM,CAAAC,UAAU,CAAGH,gBAAgB,CACxC,WAAW,CACX,MAAOI,CAAC,CAAAC,IAAA,GAA0B,IAAxB,CAAEC,eAAgB,CAAC,CAAAD,IAAA,CAC3B,GAAI,CACF,KAAM,CAAAE,GAAG,CAAG,KAAM,CAAAL,KAAK,CAACM,GAAG,CAAC,0CAA0C,CAAE,CACtEC,OAAO,CAAE,CACP,cAAc,CAAE,kBAClB,CAAC,CACDC,eAAe,CAAE,IACnB,CAAC,CAAC,CACF,MAAO,CAAAH,GAAG,CAACI,IAAI,CACjB,CAAE,MAAOC,KAAK,CAAE,CACdC,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC,CAClBN,eAAe,CAACM,KAAK,CAACG,QAAQ,CAAC,CACjC,CACF,CACF,CAAC,CAED,KAAM,CAAAC,SAAS,CAAGf,WAAW,CAAC,CAC5BgB,IAAI,CAAE,OAAO,CACbC,YAAY,CAAE,CACZC,KAAK,CAAE,EAAE,CACTC,OAAO,CAAE,KAAK,CACdR,KAAK,CAAE,IACT,CAAC,CAEDS,QAAQ,CAAE,CACRC,OAAO,CAAEA,CAACC,KAAK,CAAEC,MAAM,GAAK,CAC1BD,KAAK,CAACJ,KAAK,CAAG,CAAC,GAAGI,KAAK,CAACJ,KAAK,CAAEK,MAAM,CAACC,OAAO,CAAC,CAChD,CAAC,CACDC,UAAU,CAAEA,CAACH,KAAK,CAAEC,MAAM,GAAK,CAC7BD,KAAK,CAACJ,KAAK,CAAGI,KAAK,CAACJ,KAAK,CAACQ,MAAM,CAC9B,CAACR,KAAK,CAAES,GAAG,GAAKT,KAAK,CAACS,GAAG,GAAKJ,MAAM,CAACC,OACvC,CAAC,CACH,CAAC,CACDI,WAAW,CAAEA,CAACN,KAAK,CAAEC,MAAM,GAAK,CAC9BD,KAAK,CAACJ,KAAK,CAAGI,KAAK,CAACJ,KAAK,CAACW,GAAG,CAAC,CAACC,IAAI,CAAEH,GAAG,GACtCG,IAAI,CAACH,GAAG,GAAKJ,MAAM,CAACC,OAAO,CAACG,GAAG,CAAGJ,MAAM,CAACC,OAAO,CAAGM,IACrD,CAAC,CACH,CACF,CAAC,CACDC,aAAa,CAAGC,OAAO,EAAK,CAC1BA,OAAO,CACJC,OAAO,CAAC/B,UAAU,CAACgC,OAAO,CAAE,CAACZ,KAAK,CAAEC,MAAM,GAAK,CAC9CD,KAAK,CAACH,OAAO,CAAG,IAAI,CACpBG,KAAK,CAACX,KAAK,CAAG,IAAI,CACpB,CAAC,CAAC,CACDsB,OAAO,CAAC/B,UAAU,CAACiC,SAAS,CAAE,CAACb,KAAK,CAAEC,MAAM,GAAK,CAChDD,KAAK,CAACH,OAAO,CAAG,KAAK,CACrBG,KAAK,CAACJ,KAAK,CAAGK,MAAM,CAACC,OAAO,CAC9B,CAAC,CAAC,CACDS,OAAO,CAAC/B,UAAU,CAACkC,QAAQ,CAAE,CAACd,KAAK,CAAEC,MAAM,GAAK,CAC/CD,KAAK,CAACH,OAAO,CAAG,KAAK,CACrBG,KAAK,CAACX,KAAK,CAAGY,MAAM,CAACZ,KAAK,CAAC0B,OAAO,CACpC,CAAC,CAAC,CACN,CACF,CAAC,CAAC,CAEF,MAAO,MAAM,CAAEhB,OAAO,CAAEI,UAAU,CAAEG,WAAY,CAAC,CAAGb,SAAS,CAACuB,OAAO,CAErE,cAAe,CAAAvB,SAAS,CAACwB,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}